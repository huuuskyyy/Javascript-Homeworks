<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Underscore</title>
    <script src="underscore.js"></script>
</head>
<body>
    <div id="display"></div>
</body>
<script>
    var animals = [{ species: 'mammal', class: 'horse', legs: 4 },
                    { species: 'mammal', class: 'dolphin', legs: 0 },
                    { species: 'insect', class: 'spider', legs: 8 },
                    { species: 'bird', class: 'pigeon', legs: 2 },
                    { species: 'mammal', class: 'kangaroo', legs: 2 },
                    { species: 'insect', class: 'ant', legs: 6 }
    ];

    function sortAnimalsByLegs(animalsGroup) {
        
        var newsorted;
        newsorted = _.sortBy(animalsGroup, 'legs');
        console.log(newsorted);
        return newsorted;
    }

    var groupedAnimals = _
                    .chain(animals)
                    .groupBy('species')
                    .value();
    var sortedByLegs = _.each(groupedAnimals, sortAnimalsByLegs);

</script>
</html>
